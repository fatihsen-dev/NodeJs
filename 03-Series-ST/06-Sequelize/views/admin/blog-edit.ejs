<!DOCTYPE html>
<html lang="en">
   <%- include("../partials/head.ejs") %>
   <body>
      <%- include("../partials/nav.ejs") %>
      <div class="container mt-3">
         <form method="post" enctype="multipart/form-data">
            <div class="row my-5 gx-5">
               <div class="col-md-10">
                  <input type="hidden" name="blogid" value="<%=blog.dataValues.id %>" />
                  <input type="hidden" name="resim" value="<%=blog.dataValues.resim %>" />
                  <div class="row mb-3">
                     <label for="baslik" class="col-sm-1 col-form-label">Başlık</label>
                     <div class="col-sm-11">
                        <input
                           type="text"
                           name="baslik"
                           class="form-control"
                           id="baslik"
                           value="<%= blog.dataValues.baslik %>" />
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="altbaslik" class="col-sm-1 col-form-label"
                        >Alt başlık</label
                     >
                     <div class="col-sm-11">
                        <textarea
                           class="form-control"
                           name="altbaslik"
                           id="altbaslik"
                           rows="10">
<%= blog.dataValues.altbaslik %></textarea
                        >
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="url" class="col-sm-1 col-form-label">Url</label>
                     <div class="col-sm-11">
                        <input
                           type="text"
                           name="url"
                           class="form-control"
                           id="url"
                           value="<%= blog.dataValues.url %>" />
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="aciklama" class="col-sm-1 col-form-label"
                        >Açıklama</label
                     >
                     <div class="col-sm-11">
                        <textarea
                           class="form-control"
                           name="aciklama"
                           id="editor"
                           rows="10">
<%= blog.dataValues.aciklama %></textarea
                        >
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="resim" class="col-sm-1 col-form-label">Resim</label>
                     <div class="col-sm-11">
                        <img src="../../images/<%=blog.dataValues.resim %>" width="120" />
                        <input class="form-control" type="file" name="file" id="file" />
                     </div>
                  </div>
                  <div class="row mb-3">
                     <div class="col-sm-11 offset-sm-1">
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                     </div>
                  </div>
               </div>
               <div class="col-md-2">
                  <div class="row">
                     <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="anasayfa"
                        name="anasayfa" <%= blog.dataValues.anasayfa?"checked":"" %> />
                        <label class="form-check-label" for="anasayfa"> Anasayfa </label>
                     </div>
                  </div>
                  <div class="row">
                     <div class="form-check">
                        <input <input class="form-check-input" type="checkbox" id="onay"
                        name="onay" <%= blog.dataValues.onay?"checked":"" %> />
                        <label class="form-check-label" for="onay"> Onay </label>
                     </div>
                  </div>
                  <div class="row mt-3 border-top pt-3">
                     <% categories.forEach(category => { %>
                     <div class="form-check">
                        <input <input class="form-check-input" value="<%= category.id %>"
                        name="categories[]" type="checkbox" id="category_<%=category.id
                        %>" <%= blog.categories.some(cat=>cat.id == category.id) &&
                        "checked" %> />
                        <label class="form-check-label" for="category_<%=category.id %>"
                           ><%=category.name %></label
                        >
                     </div>
                     <% }) %>
                  </div>
               </div>
            </div>
         </form>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ckeditor5/35.2.1/ckeditor.min.js"></script>
      <script>
         ClassicEditor.create(document.querySelector("#editor")).catch((error) => {
            console.error(error);
         });
      </script>
   </body>
</html>
